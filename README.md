# üìò User Service API

–°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, —Ä–æ–ª—è–º–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Express + TypeScript + Prisma + PostgreSQL.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/kunitskidzmitry/user-service.git
cd user-service
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
PORT=3000
JWT_SECRET=supersecuresecret123
DATABASE_URL=postgresql://postgres:EmLdKthzHTNSMCZfPgWEoWqziDFsUvbz@interchange.proxy.rlwy.net:46772/railway

```

> üî∏ –ó–∞–º–µ–Ω–∏—Ç–µ `USER`, `PASSWORD`, `HOST`, `PORT`, `DATABASE` –Ω–∞ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è PostgreSQL.

---

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
npx prisma generate
npx prisma migrate dev --name init
```

> üî∏ –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `npx prisma studio` –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ë–î.

---

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ Postman

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é:
    - `UserService_Postman_Collection.json` (–ø—Ä–∏–ª–∞–≥–∞–µ—Ç—Å—è)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `{{token}}` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö:
    - –ü–æ–ª—É—á–∏—Ç–µ `token` —á–µ—Ä–µ–∑ `POST /api/login`
    - –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Postman

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–æ–ª–∏

–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```makefile
Authorization: Bearer <token>
```

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**

| –ú–∞—Ä—à—Ä—É—Ç                      | –ö—Ç–æ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø           |
|-----------------------------|----------------------------|
| `GET /users/me`             | –ª—é–±–æ–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π       |
| `GET /users/:id`            | —Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ admin |
| `GET /users`                | —Ç–æ–ª—å–∫–æ admin               |
| `PATCH /users/block/:id`    | —Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ admin |

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### üî∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Ç–µ–º –∂–µ email ‚Üí –æ—à–∏–±–∫–∞

### üî∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
- –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å/email ‚Üí –æ—à–∏–±–∫–∞

### üî∏ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- `GET /users` –∫–∞–∫ admin ‚Üí –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫
- `GET /users/:id` –∫–∞–∫ user ‚Üí —Ç–æ–ª—å–∫–æ —Å–µ–±—è
- `GET /users/:id` –∫–∞–∫ admin ‚Üí –ª—é–±–æ–≥–æ

### üî∏ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º —Å–µ–±—è
- Admin –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–≥–æ

---

## ‚öôÔ∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Node.js + Express
- TypeScript
- Prisma ORM + PostgreSQL
- JWT –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è
